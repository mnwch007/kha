var SnippetLogin=function(){var e=$("#m_login"),i=function(e,i,a){var t=$('<div class="m-alert m-alert--outline alert alert-'+i+' alert-dismissible" role="alert">\t\t\t<button type="button" class="close" data-dismiss="alert" aria-label="Close"></button>\t\t\t<span></span>\t\t</div>');e.find(".alert").remove(),t.prependTo(e),mUtil.animateClass(t[0],"fadeIn animated"),t.find("span").html(a)},a=function(){e.removeClass("m-login--forget-password"),e.removeClass("m-login--signin"),e.addClass("m-login--signup"),mUtil.animateClass(e.find(".m-login__signup")[0],"flipInX animated")},t=function(){e.removeClass("m-login--forget-password"),e.removeClass("m-login--signup"),e.addClass("m-login--signin"),mUtil.animateClass(e.find(".m-login__signin")[0],"flipInX animated")},l=function(){e.removeClass("m-login--signin"),e.removeClass("m-login--signup"),e.addClass("m-login--forget-password"),mUtil.animateClass(e.find(".m-login__forget-password")[0],"flipInX animated")},r=function(){$("#m_login_forget_password").click(function(e){e.preventDefault(),l()}),$("#m_login_forget_password_cancel").click(function(e){e.preventDefault(),t()}),$("#m_login_signup").click(function(e){e.preventDefault(),a()}),$("#m_login_signup_cancel").click(function(e){e.preventDefault(),t()})},o=function(){$("#m_login_signin_submit").click(function(e){e.preventDefault();var a=$(this),t=$(this).closest("form");t.validate({rules:{email:{required:!0,email:!0},password:{required:!0}}}),t.valid()&&(a.addClass("m-loader m-loader--right m-loader--light").attr("disabled",!0),t.ajaxSubmit({url:t.attr("action"),dataType:"json",success:function(e,l,r,o){1===e.code||3===e.code||4===e.code||5===e.code?(a.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1),i(t,"danger",e.text)):2===e.code?(a.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1),i(t,"warning",e.text)):(a.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1),i(t,"success",e.text),setTimeout(function(){window.location.reload()},2e3))}}))})},s=function(){$("#m_login_signup_submit").click(function(a){a.preventDefault();var l=$(this),r=$(this).closest("form");r.validate({rules:{fullname:{required:!0},email:{required:!0,email:!0},password:{required:!0},rpassword:{required:!0},agree:{required:!0}}}),r.valid()&&(l.addClass("m-loader m-loader--right m-loader--light").attr("disabled",!0),r.ajaxSubmit({url:"",success:function(a,o,s,n){setTimeout(function(){l.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1),r.clearForm(),r.validate().resetForm(),t();var a=e.find(".m-login__signin form");a.clearForm(),a.validate().resetForm(),i(a,"success","Thank you. To complete your registration please check your email.")},2e3)}}))})},n=function(){$("#m_login_forget_password_submit").click(function(a){a.preventDefault();var l=$(this),r=$(this).closest("form");r.validate({rules:{email:{required:!0,email:!0}}}),r.valid()&&(l.addClass("m-loader m-loader--right m-loader--light").attr("disabled",!0),r.ajaxSubmit({url:"",success:function(a,o,s,n){setTimeout(function(){l.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1),r.clearForm(),r.validate().resetForm(),t();var a=e.find(".m-login__signin form");a.clearForm(),a.validate().resetForm(),i(a,"success","Cool! Password recovery instruction has been sent to your email.")},2e3)}}))})};return{init:function(){r(),o(),s(),n()}}}();jQuery(document).ready(function(){SnippetLogin.init()});